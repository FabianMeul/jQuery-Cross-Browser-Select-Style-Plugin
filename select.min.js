(function (a) { a.fn.selectFix = function (b) { a(this).each(function () { var c = a.extend({ extraStyles: !0, responsive: !1, arrow: !0, arrowWidth: 20, arrowContent: "", className: "select", classText: "text", classArrow: "arrow", classFocus: "focused", classEnd: "selected" }, b), d = "." + c.className, e = a(this); e.css("-webkit-appearance", "none"); var f; e.children("option:selected").size() > 0 ? f = e.children("option:selected").eq(0).text() : f = e.children("option").eq(0).text(); var g = e.css("height"), h = e.css("width").replace("px", ""), i; c.responsive ? i = 100 * parseInt(h.replace("px", "")) / parseInt(e.parent().css("width").replace("px", "")) + "%" : i = h + "px"; var j, k = String(c.arrowWidth); k.indexOf("px") < 0 && k.indexOf("%") < 0 && (k += "px"), c.arrow == 1 ? j = '<span style="display: block; height: 100%; position: absolute; right: 0; width: ' + k + ';" class="' + c.classArrow + '">' + c.arrowContent + "</span>" : j = "", e.css({ display: "block", left: 0, opacity: 0, position: "absolute", top: 0, "z-index": 1 }).wrap('<div class="' + c.className + '"style="overflow: hidden; position: relative;  width: ' + i + ';"></div>').closest(d).append('<span style="display: block; left: 0; height: ' + g + '; line-height: inherit; position: absolute; top: 0; width: 100%;" class="' + c.classText + '">' + f + "</span>" + j), e.bind({ change: function () { e.siblings("." + c.classText).html(e.children("option[value=" + e.val() + "]").text()), c.extraStyles == 1 && e.parent(d).addClass(c.classEnd).removeClass(c.classFocus), (e.val() == "" || e.val() == undefined || e.val() == null) && e.parent(d).removeClass(c.classEnd) }, focus: function () { c.extraStyles == 1 && e.parent(d).addClass(c.classFocus) }, blur: function () { c.extraStyles == 1 && e.parent(d).removeClass(c.classFocus) } }), e.after('<style type="text/css">.' + c.className + " select {width: 100%;}</style>") }) } })(jQuery)