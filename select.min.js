(function (a) { a.fn.selectFix = function (b) { a(this).each(function () { var c = a.extend({ extraStyles: !0, responsive: !1, arrow: !0, arrowWidth: 20, arrowContent: "", className: "select", classText: "text", classArrow: "arrow", classFocus: "focused", classEnd: "selected" }, b), d = "." + c.className, e = a(this), f; e.children("option:selected").size() > 0 ? f = e.children("option:selected").eq(0).text() : f = e.children("option").eq(0).text(); var g = e.height(), h = e.css("width").replace("px", ""), i; c.responsive ? i = 100 * parseInt(h.replace("px", "")) / parseInt(e.parent().css("width").replace("px", "")) + "%" : i = h + "px"; var j, k = String(c.arrowWidth); k.indexOf("px") < 0 && k.indexOf("%") < 0 && (k += "px"), c.arrow == 1 ? j = '<span style="display: block; height: ' + g + "px; position: absolute; right: 0; width: " + k + ';" class="' + c.classArrow + '">' + c.arrowContent + "</span>" : j = "", e.css({ height: g + "px", left: 0, "line-height": g + "px", position: "absolute", top: 0, "z-index": 1 }).wrap('<div class="' + c.className + '"style="overflow: hidden; position: relative; height: ' + g + "px; line-height: " + g + "px; width: " + i + ';"></div>').closest(d).append('<div class="select"style="height: ' + g + "px; left: 0; line-height:" + g + 'px; position: absolute; top: 0; width: 100%; z-index: 0;"><span style="display: block; left: 0; height: ' + g + "px; line-height:" + g + 'px; position: absolute; top: 0; width: 100%;" class="' + c.classText + '">' + f + "</span>" + j + "</div>"), e.css({ height: g + "px", display: "block", opacity: 0, "line-height": g + "px" }), e.bind({ change: function () { e.siblings(d).children("." + c.classText).html(e.children("option[value=" + e.val() + "]").text()), c.extraStyles == 1 && e.parent(d).addClass(c.classEnd).removeClass(c.classFocus), (e.val() == "" || e.val() == undefined || e.val() == null) && e.parent(d).removeClass(c.classEnd) }, focus: function () { c.extraStyles == 1 && e.parent(d).addClass(c.classFocus) }, blur: function () { c.extraStyles == 1 && e.parent(d).removeClass(c.classFocus) } }), e.after('<style type="text/css">.' + c.className + " select {width: 100%;}</style>") }) } })(jQuery)