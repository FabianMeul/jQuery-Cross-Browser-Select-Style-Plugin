(function (a) { a.fn.selectFix = function (b) { a(this).each(function () { var c = a.extend({ extraStyles: !0, arrow: !0, arrowWidth: 20, arrowContent: "", className: "select", classText: "text", classArrow: "arrow", classFocus: "focused", classEnd: "selected" }, b), d = "." + c.className, e = a(this), f; e.children("option:selected").size() > 0 ? f = e.children("option:selected").eq(0).text() : f = e.children("option").eq(0).text(); var g = e.css("height").replace("px", ""), h = e.css("width").replace("px", ""), i, j = String(c.arrowWidth); j.indexOf("px") < 0 && j.indexOf("%") < 0 && (j += "px"), console.log(j), c.arrow == 1 ? i = '<span style="display: block; height: ' + g + "px; position: absolute; right: 0; width: " + j + ';" class="' + c.classArrow + '">' + c.arrowContent + "</span>" : i = "", e.css({ left: 0, position: "absolute", top: 0, "z-index": 1 }).wrap('<div class="' + c.className + '"style="overflow: hidden; position: relative; height: ' + g + "px; width: " + h + 'px;"></div>').closest(d).append('<div class="select"style="height: ' + g + "px; left: 0; position: absolute; top: 0; width: " + h + 'px; z-index: 0;"><span style="display: block;  left: 0; line-height:' + g + "px; position: absolute; top: 0; width: " + h + 'px;" class="' + c.classText + '">' + f + "</span>" + i + "</div>"), e.closest("select").css({ opacity: 0, width: h }), e.bind({ change: function () { e.siblings(d).children("." + c.classText).html(e.children("option[value=" + e.val() + "]").text()), c.extraStyles == 1 && e.parent(d).addClass(c.classEnd).removeClass(c.classFocus), (e.val() == "" || e.val() == undefined || e.val() == null) && e.parent(d).removeClass(c.classEnd) }, focus: function () { c.extraStyles == 1 && e.parent(d).addClass(c.classFocus) }, blur: function () { c.extraStyles == 1 && e.parent(d).removeClass(c.classFocus) } }) }) } })(jQuery)